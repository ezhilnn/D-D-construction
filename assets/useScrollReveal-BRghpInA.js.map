{"version":3,"file":"useScrollReveal-BRghpInA.js","sources":["../../src/hooks/useScrollReveal.ts"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport { prefersReducedMotion } from '@utils/index';\r\n\r\ninterface UseScrollRevealOptions {\r\n  threshold?: number;\r\n  rootMargin?: string;\r\n  triggerOnce?: boolean;\r\n}\r\n\r\n/**\r\n * Returns a ref to attach to any element and a boolean `isVisible`.\r\n * When the element scrolls into view, isVisible becomes true.\r\n * \r\n * Usage:\r\n *   const [ref, isVisible] = useScrollReveal();\r\n *   <div ref={ref} className={isVisible ? 'animate-in' : ''}>...</div>\r\n */\r\nexport default function useScrollReveal({\r\n  threshold = 0.15,\r\n  rootMargin = '0px',\r\n  triggerOnce = true,\r\n}: UseScrollRevealOptions = {}) {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    // If user prefers reduced motion, skip animation entirely\r\n    if (prefersReducedMotion()) {\r\n      setIsVisible(true);\r\n      return;\r\n    }\r\n\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          setIsVisible(true);\r\n          if (triggerOnce) observer.disconnect();\r\n        } else if (!triggerOnce) {\r\n          setIsVisible(false);\r\n        }\r\n      },\r\n      { threshold, rootMargin }\r\n    );\r\n\r\n    const el = ref.current;\r\n    if (el) observer.observe(el);\r\n\r\n    return () => {\r\n      if (el) observer.unobserve(el);\r\n    };\r\n  }, [threshold, rootMargin, triggerOnce]);\r\n\r\n  return [ref, isVisible] as const;\r\n}"],"names":["useScrollReveal","threshold","rootMargin","triggerOnce","isVisible","setIsVisible","useState","ref","useRef","useEffect","prefersReducedMotion","observer","entry","el"],"mappings":"gFAiBA,SAAwBA,EAAgB,CACtC,UAAAC,EAAY,IACZ,WAAAC,EAAa,MACb,YAAAC,EAAc,EAChB,EAA4B,GAAI,CAC9B,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAK,EAC1CC,EAAMC,EAAAA,OAAuB,IAAI,EAEvCC,OAAAA,EAAAA,UAAU,IAAM,CAEd,GAAIC,IAAwB,CAC1BL,EAAa,EAAI,EACjB,MACF,CAEA,MAAMM,EAAW,IAAI,qBACnB,CAAC,CAACC,CAAK,IAAM,CACPA,EAAM,gBACRP,EAAa,EAAI,EACbF,KAAsB,WAAA,GAChBA,GACVE,EAAa,EAAK,CAEtB,EACA,CAAE,UAAAJ,EAAW,WAAAC,CAAA,CAAW,EAGpBW,EAAKN,EAAI,QACf,OAAIM,GAAIF,EAAS,QAAQE,CAAE,EAEpB,IAAM,CACPA,GAAIF,EAAS,UAAUE,CAAE,CAC/B,CACF,EAAG,CAACZ,EAAWC,EAAYC,CAAW,CAAC,EAEhC,CAACI,EAAKH,CAAS,CACxB"}