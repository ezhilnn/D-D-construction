import{u as v,b as h,j as e,s as _,f as g}from"./index-D0IsCptF.js";import{r as i}from"./redux-Bg3L8kwu.js";import{u as b}from"./useScrollReveal-BRghpInA.js";import"./router-BUMqNJ4-.js";import"./index-CJlfX0wT.js";const N=[{id:"all",label:"All Projects"},{id:"villa",label:"Villas"},{id:"commercial",label:"Commercial"},{id:"apartment",label:"Apartments"},{id:"renovation",label:"Renovations"}];function y(){const s=v(),t=h(a=>a.projects.filter);return e.jsx("div",{className:"project-filter",children:N.map(a=>e.jsx("button",{className:`project-filter__btn ${t===a.id?"project-filter__btn--active":""}`,onClick:()=>s(_(a.id)),children:a.label},a.id))})}function E({beforeImage:s,afterImage:t,title:a}){const[r,c]=i.useState(50),[l,d]=i.useState(!1),m=i.useRef(null),u=o=>{if(!m.current)return;const p=m.current.getBoundingClientRect(),x=(o-p.left)/p.width*100;c(Math.max(0,Math.min(100,x)))},j=o=>{l&&u(o.clientX)},f=o=>{l&&o.touches[0]&&u(o.touches[0].clientX)},n=()=>d(!1);return i.useEffect(()=>(l&&(document.addEventListener("mousemove",j),document.addEventListener("touchmove",f),document.addEventListener("mouseup",n),document.addEventListener("touchend",n)),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("touchmove",f),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}),[l]),e.jsxs("div",{className:"ba-slider",ref:m,children:[e.jsxs("div",{className:"ba-slider__after",children:[e.jsx("img",{src:t,alt:`${a} - After`,draggable:!1}),e.jsx("div",{className:"ba-slider__label ba-slider__label--after",children:"After"})]}),e.jsxs("div",{className:"ba-slider__before",style:{clipPath:`inset(0 ${100-r}% 0 0)`},children:[e.jsx("img",{src:s,alt:`${a} - Before`,draggable:!1}),e.jsx("div",{className:"ba-slider__label ba-slider__label--before",children:"Before"})]}),e.jsx("div",{className:"ba-slider__divider",style:{left:`${r}%`},onMouseDown:()=>d(!0),onTouchStart:()=>d(!0),children:e.jsx("div",{className:"ba-slider__handle",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:[e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),e.jsx("path",{d:"M8 8h3v6H8z"})]})})})]})}function w({isOpen:s,onClose:t,children:a,title:r}){return i.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),i.useEffect(()=>{const c=l=>{l.key==="Escape"&&s&&t()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[s,t]),s?e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-panel",onClick:c=>c.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:t,"aria-label":"Close modal",children:e.jsx("span",{className:"modal-close-icon"})}),r&&e.jsx("h3",{className:"modal-title",children:r}),e.jsx("div",{className:"modal-content",children:a})]})}):null}function M({project:s}){const[t,a]=b({threshold:.2}),[r,c]=i.useState(!1),l=s.beforeImage&&s.afterImage;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:t,className:`project-card ${a?"project-card--visible":""}`,"data-cursor":l?"view":void 0,children:[e.jsxs("div",{className:"project-card__image-wrap",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"project-card__image",loading:"lazy"}),l&&e.jsxs("button",{className:"project-card__ba-btn",onClick:()=>c(!0),"aria-label":"View before and after",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 12H3M21 12l-6-6M21 12l-6 6M3 12l6-6M3 12l6 6"})}),"Before & After"]}),e.jsx("div",{className:"project-card__status",children:s.status})]}),e.jsxs("div",{className:"project-card__content",children:[e.jsxs("div",{className:"project-card__meta",children:[e.jsx("span",{className:"project-card__type",children:s.type}),e.jsx("span",{className:"project-card__location",children:s.location})]}),e.jsx("h3",{className:"project-card__title",children:s.title}),e.jsx("p",{className:"project-card__desc",children:s.description}),e.jsxs("div",{className:"project-card__footer",children:[s.area&&e.jsx("span",{className:"project-card__area",children:s.area}),e.jsx("span",{className:"project-card__year",children:s.year})]})]})]}),l&&e.jsx(w,{isOpen:r,onClose:()=>c(!1),title:s.title,children:e.jsx(E,{beforeImage:s.beforeImage,afterImage:s.afterImage,title:s.title})})]})}function S(){const{items:s,filter:t}=h(r=>r.projects),a=t==="all"?s:s.filter(r=>r.type===t);return a.length===0?e.jsx("div",{className:"project-grid__empty",children:e.jsx("p",{children:"No projects found for this category."})}):e.jsx("div",{className:"project-grid",children:a.map(r=>e.jsx(M,{project:r},r.id))})}function I(){const s=v(),{loading:t}=h(a=>a.projects);return i.useEffect(()=>{s(g())},[s]),e.jsxs("div",{className:"projects-page",children:[e.jsx("div",{className:"projects-page__hero",children:e.jsxs("div",{className:"container",children:[e.jsx("h1",{className:"projects-page__title",children:"Our Projects"}),e.jsx("p",{className:"projects-page__subtitle",children:"Explore our portfolio of luxury villas, commercial complexes, and premium renovations"})]})}),e.jsx("section",{className:"projects-page__filter section-pad-sm",children:e.jsx("div",{className:"container",children:e.jsx(y,{})})}),e.jsx("section",{className:"projects-page__grid section-pad",children:e.jsx("div",{className:"container",children:t?e.jsx("div",{className:"projects-page__loading",children:"Loading projects..."}):e.jsx(S,{})})})]})}export{I as default};
//# sourceMappingURL=ProjectsPage-CTciiPfH.js.map
